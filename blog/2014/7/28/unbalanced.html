<!doctype html>
<html xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://www.facebook.com/2008/fbml" lang="en-US"  >
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="initial-scale=1">

    <!-- This is Squarespace. --><!-- abnorman -->
<base href="">
<meta charset="utf-8" />
<title>Unbalanced - Why your load balancer hates you &mdash; Daniel Norman</title>
<meta http-equiv="Accept-CH" content="Sec-CH-UA-Platform-Version, Sec-CH-UA-Model" /><link rel="shortcut icon" type="image/x-icon" href="../../../../../images.squarespace-cdn.com/content/v1/51b10198e4b00987e7d6891b/1442871329058-IPH3C2MV0TSGJEFRSTFC/favicon.ico%3Fformat=100w"/>
<link rel="canonical" href="unbalanced.html"/>
<meta property="og:site_name" content="Daniel Norman"/>
<meta property="og:title" content="Unbalanced - Why your load balancer hates you &mdash; Daniel Norman"/>
<meta property="og:latitude" content="32.749789"/>
<meta property="og:longitude" content="-117.1676501"/>
<meta property="og:locality" content=""/>
<meta property="og:url" content="https://danielnorman.net/blog/2014/7/28/unbalanced"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Your centralized load balancer secretly hates you. You just haven't realized it yet.   (Another in my 947 part series on why anything centralized inherently sucks. I barely even like central air)   Lets rip off the band aid: It might work well enough for brochureware, but for web-based applications,"/>
<meta property="og:image" content="http://static1.squarespace.com/static/51b10198e4b00987e7d6891b/51b10199e4b00987e7d68923/53d60150e4b0498d331db150/1508314448200/haproxy.png?format=1500w"/>
<meta property="og:image:width" content="256"/>
<meta property="og:image:height" content="256"/>
<meta itemprop="name" content="Unbalanced - Why your load balancer hates you — Daniel Norman"/>
<meta itemprop="url" content="https://danielnorman.net/blog/2014/7/28/unbalanced"/>
<meta itemprop="description" content="Your centralized load balancer secretly hates you. You just haven't realized it yet.   (Another in my 947 part series on why anything centralized inherently sucks. I barely even like central air)   Lets rip off the band aid: It might work well enough for brochureware, but for web-based applications,"/>
<meta itemprop="thumbnailUrl" content="http://static1.squarespace.com/static/51b10198e4b00987e7d6891b/51b10199e4b00987e7d68923/53d60150e4b0498d331db150/1508314448200/haproxy.png?format=1500w"/>
<link rel="image_src" href="http://static1.squarespace.com/static/51b10198e4b00987e7d6891b/51b10199e4b00987e7d68923/53d60150e4b0498d331db150/1508314448200/haproxy.png?format=1500w" />
<meta itemprop="image" content="http://static1.squarespace.com/static/51b10198e4b00987e7d6891b/51b10199e4b00987e7d68923/53d60150e4b0498d331db150/1508314448200/haproxy.png?format=1500w"/>
<meta itemprop="author" content="Daniel Norman"/>
<meta itemprop="datePublished" content="2014-07-28T04:50:26-0400"/>
<meta itemprop="dateModified" content="2017-10-18T04:14:08-0400"/>
<meta itemprop="headline" content="Unbalanced - Why your load balancer hates you"/>
<meta itemprop="publisher" content="Daniel Norman"/>
<meta name="twitter:title" content="Unbalanced - Why your load balancer hates you — Daniel Norman"/>
<meta name="twitter:image" content="http://static1.squarespace.com/static/51b10198e4b00987e7d6891b/51b10199e4b00987e7d68923/53d60150e4b0498d331db150/1508314448200/haproxy.png?format=1500w"/>
<meta name="twitter:url" content="https://danielnorman.net/blog/2014/7/28/unbalanced"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:description" content="Your centralized load balancer secretly hates you. You just haven't realized it yet.   (Another in my 947 part series on why anything centralized inherently sucks. I barely even like central air)   Lets rip off the band aid: It might work well enough for brochureware, but for web-based applications,"/>
<meta name="description" content="" />
<link rel="preconnect" href="../../../../../images.squarespace-cdn.com/index.html">
<script type="text/javascript" src="https://use.typekit.net/ik/dk_hWsqQzKzWvKjVMFDgL-9RXT2DqwyDiwEEgxzZFatfe0jffFHN4UJLFRbh52jhWD9UjRI3wQqtZQsKw2Mo52i8Fhbh52qUjy7MMPG0jA40da4ljAt0SaBujW48Sagyjh90jhNlOeBKdcNkdAB0O1FUiABkZWF3jAF8OcFzdPUqjAoTZAU0da4ljAt0jhNlOeUzjhBC-eNDifUaiaS0jA40da4ljAt0SaBujW48Sagyjh90jhNlOYiaikoqjAoTZAU0da4ljAt0jhNlJyiydYs8Scoyie9lZhNX-e8ROAozOQJlZfJ5ShNc-AIlSY4zOWFzZ1bKfWFzZc8yOWgkdkG4fFibIMMjgfMfH6GJEdvgIMIjgkMfH6GJa_vgIMJjMkMfH6GJt_vgIMJjgfMfH6GJtdvgIMJjgPMfH6GJodvgIMJjgKMfH6GJh_vgIMJjgkMfH6GJhdvgIMJjfPMfH6GJoOvgIMJj2KMfH6GJEOvgIMJjIfMfH6GJaOvgIMJjIPMfqMe7TwxVgb.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<script type="text/javascript" crossorigin="anonymous" nomodule="nomodule" src="../../../../../assets.squarespace.com/@sqs/polyfiller/1.6/legacy.js"></script>
<script type="text/javascript" crossorigin="anonymous" src="../../../../../assets.squarespace.com/@sqs/polyfiller/1.6/modern.js"></script>
<script type="text/javascript">SQUARESPACE_ROLLUPS = {};</script>
<script>(function(rollups, name) { if (!rollups[name]) { rollups[name] = {}; } rollups[name].js = ["//assets.squarespace.com/universal/scripts-compressed/extract-css-runtime-6a1f86e716ae5d99238ce-min.en-US.js"]; })(SQUARESPACE_ROLLUPS, 'squarespace-extract_css_runtime');</script>
<script crossorigin="anonymous" src="../../../../../assets.squarespace.com/universal/scripts-compressed/extract-css-runtime-6a1f86e716ae5d99238ce-min.en-US.js" ></script><script>(function(rollups, name) { if (!rollups[name]) { rollups[name] = {}; } rollups[name].js = ["//assets.squarespace.com/universal/scripts-compressed/extract-css-moment-js-vendor-5082e2dab696b020ac83a-min.en-US.js"]; })(SQUARESPACE_ROLLUPS, 'squarespace-extract_css_moment_js_vendor');</script>
<script crossorigin="anonymous" src="../../../../../assets.squarespace.com/universal/scripts-compressed/extract-css-moment-js-vendor-5082e2dab696b020ac83a-min.en-US.js" ></script><script>(function(rollups, name) { if (!rollups[name]) { rollups[name] = {}; } rollups[name].js = ["//assets.squarespace.com/universal/scripts-compressed/cldr-resource-pack-56fdc0b6309d3f37f75e8-min.en-US.js"]; })(SQUARESPACE_ROLLUPS, 'squarespace-cldr_resource_pack');</script>
<script crossorigin="anonymous" src="../../../../../assets.squarespace.com/universal/scripts-compressed/cldr-resource-pack-56fdc0b6309d3f37f75e8-min.en-US.js" ></script><script>(function(rollups, name) { if (!rollups[name]) { rollups[name] = {}; } rollups[name].js = ["//assets.squarespace.com/universal/scripts-compressed/common-vendors-stable-dade9d616ff90ebf99b1d-min.en-US.js"]; })(SQUARESPACE_ROLLUPS, 'squarespace-common_vendors_stable');</script>
<script crossorigin="anonymous" src="../../../../../assets.squarespace.com/universal/scripts-compressed/common-vendors-stable-dade9d616ff90ebf99b1d-min.en-US.js" ></script><script>(function(rollups, name) { if (!rollups[name]) { rollups[name] = {}; } rollups[name].js = ["//assets.squarespace.com/universal/scripts-compressed/common-vendors-4b49c51e5a53d327d3bd7-min.en-US.js"]; })(SQUARESPACE_ROLLUPS, 'squarespace-common_vendors');</script>
<script crossorigin="anonymous" src="../../../../../assets.squarespace.com/universal/scripts-compressed/common-vendors-4b49c51e5a53d327d3bd7-min.en-US.js" ></script><script>(function(rollups, name) { if (!rollups[name]) { rollups[name] = {}; } rollups[name].js = ["//assets.squarespace.com/universal/scripts-compressed/common-63cd3630127848aa51a02-min.en-US.js"]; })(SQUARESPACE_ROLLUPS, 'squarespace-common');</script>
<script crossorigin="anonymous" src="../../../../../assets.squarespace.com/universal/scripts-compressed/common-63cd3630127848aa51a02-min.en-US.js" ></script><script>(function(rollups, name) { if (!rollups[name]) { rollups[name] = {}; } rollups[name].js = ["//assets.squarespace.com/universal/scripts-compressed/performance-bb5721e73cd845bac5d20-min.en-US.js"]; })(SQUARESPACE_ROLLUPS, 'squarespace-performance');</script>
<script crossorigin="anonymous" src="../../../../../assets.squarespace.com/universal/scripts-compressed/performance-bb5721e73cd845bac5d20-min.en-US.js" defer ></script><script data-name="static-context">Static = window.Static || {}; Static.SQUARESPACE_CONTEXT = {"facebookAppId":"314192535267336","facebookApiVersion":"v6.0","rollups":{"squarespace-announcement-bar":{"js":"//assets.squarespace.com/universal/scripts-compressed/announcement-bar-cfb9ca391e5434cccb495-min.en-US.js"},"squarespace-audio-player":{"css":"//assets.squarespace.com/universal/styles-compressed/audio-player-702bf18174efe0acaa8ce-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/audio-player-1cdba08342669288e0a4b-min.en-US.js"},"squarespace-blog-collection-list":{"css":"//assets.squarespace.com/universal/styles-compressed/blog-collection-list-3d55c64c25996c7633fc2-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/blog-collection-list-44ab3d6f12cddbd366f28-min.en-US.js"},"squarespace-calendar-block-renderer":{"css":"//assets.squarespace.com/universal/styles-compressed/calendar-block-renderer-49c4a5f3dae67a728e3f4-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/calendar-block-renderer-6f20ca9fe0574949433f3-min.en-US.js"},"squarespace-chartjs-helpers":{"css":"//assets.squarespace.com/universal/styles-compressed/chartjs-helpers-53c004ac7d4bde1c92e38-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/chartjs-helpers-aff2d23104600df085fdd-min.en-US.js"},"squarespace-comments":{"css":"//assets.squarespace.com/universal/styles-compressed/comments-cb7553e34a4da425817c4-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/comments-8a4bd0618556454361bcc-min.en-US.js"},"squarespace-dialog":{"css":"//assets.squarespace.com/universal/styles-compressed/dialog-89b254b5c87045b9e1360-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/dialog-2a003308ace148f3464f7-min.en-US.js"},"squarespace-events-collection":{"css":"//assets.squarespace.com/universal/styles-compressed/events-collection-49c4a5f3dae67a728e3f4-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/events-collection-9c7837f8e8c7ba99a4aa2-min.en-US.js"},"squarespace-form-rendering-utils":{"js":"//assets.squarespace.com/universal/scripts-compressed/form-rendering-utils-138b64bd01d317c78dc64-min.en-US.js"},"squarespace-forms":{"css":"//assets.squarespace.com/universal/styles-compressed/forms-4a16a8a8c965386db2173-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/forms-857fabfcc20ae4fd76fe6-min.en-US.js"},"squarespace-gallery-collection-list":{"css":"//assets.squarespace.com/universal/styles-compressed/gallery-collection-list-3d55c64c25996c7633fc2-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/gallery-collection-list-ccf378030ccbdb6e9f20a-min.en-US.js"},"squarespace-image-zoom":{"css":"//assets.squarespace.com/universal/styles-compressed/image-zoom-3d55c64c25996c7633fc2-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/image-zoom-95bf63ca6dc7a85183665-min.en-US.js"},"squarespace-pinterest":{"css":"//assets.squarespace.com/universal/styles-compressed/pinterest-3d55c64c25996c7633fc2-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/pinterest-a4e9fe29fb0c5c424e870-min.en-US.js"},"squarespace-popup-overlay":{"css":"//assets.squarespace.com/universal/styles-compressed/popup-overlay-948192219c3257f767ec5-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/popup-overlay-8784593aa3ef86fca715a-min.en-US.js"},"squarespace-product-quick-view":{"css":"//assets.squarespace.com/universal/styles-compressed/product-quick-view-4a16a8a8c965386db2173-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/product-quick-view-58490e594f110b8f6e1d2-min.en-US.js"},"squarespace-products-collection-item-v2":{"css":"//assets.squarespace.com/universal/styles-compressed/products-collection-item-v2-3d55c64c25996c7633fc2-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/products-collection-item-v2-13476485f63716e4af226-min.en-US.js"},"squarespace-products-collection-list-v2":{"css":"//assets.squarespace.com/universal/styles-compressed/products-collection-list-v2-3d55c64c25996c7633fc2-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/products-collection-list-v2-86cb9526983c4269307f0-min.en-US.js"},"squarespace-search-page":{"css":"//assets.squarespace.com/universal/styles-compressed/search-page-9d0a55de1efafbb9218e1-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/search-page-af841a4de517d1960ffe3-min.en-US.js"},"squarespace-search-preview":{"js":"//assets.squarespace.com/universal/scripts-compressed/search-preview-8c25e422640fd7271eda1-min.en-US.js"},"squarespace-simple-liking":{"css":"//assets.squarespace.com/universal/styles-compressed/simple-liking-ef94529873378652e6e86-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/simple-liking-eec025f782ea0a61910bd-min.en-US.js"},"squarespace-social-buttons":{"css":"//assets.squarespace.com/universal/styles-compressed/social-buttons-1f18e025ea682ade6293a-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/social-buttons-a2f5c0c402abbb48429cb-min.en-US.js"},"squarespace-tourdates":{"css":"//assets.squarespace.com/universal/styles-compressed/tourdates-3d55c64c25996c7633fc2-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/tourdates-a1067e56130bfa7beb364-min.en-US.js"},"squarespace-website-overlays-manager":{"css":"//assets.squarespace.com/universal/styles-compressed/website-overlays-manager-7cecc648f858e6f692130-min.en-US.css","js":"//assets.squarespace.com/universal/scripts-compressed/website-overlays-manager-023d88200770656fb952a-min.en-US.js"}},"pageType":50,"website":{"id":"51b10198e4b00987e7d6891b","identifier":"abnorman","websiteType":1,"contentModifiedOn":1576720085482,"cloneable":false,"hasBeenCloneable":false,"siteStatus":{},"language":"en-US","timeZone":"America/New_York","machineTimeZoneOffset":-14400000,"timeZoneOffset":-14400000,"timeZoneAbbr":"EDT","siteTitle":"Daniel Norman","fullSiteTitle":"Unbalanced - Why your load balancer hates you \u2014 Daniel Norman","siteTagLine":"","siteDescription":"<p>Rantings of a peculiar mind</p>","location":{"mapZoom":12.0,"mapLat":32.78298888875253,"mapLng":-117.13812434316407,"markerLat":32.749789,"markerLng":-117.1676501,"addressTitle":"","addressLine1":"","addressLine2":"San Diego, CA 92103","addressCountry":""},"shareButtonOptions":{"8":true,"3":true,"6":true,"1":true,"7":true,"4":true,"2":true},"authenticUrl":"https://danielnorman.net","internalUrl":"https://abnorman.squarespace.com","baseUrl":"https://danielnorman.net","primaryDomain":"danielnorman.net","sslSetting":3,"isHstsEnabled":true,"socialAccounts":[{"serviceId":2,"userId":"650194179","userName":"qinsd","screenname":"Daniel Norman","addedOn":1370624752247,"profileUrl":"http://www.facebook.com/650194179","iconUrl":"http://graph.facebook.com/650194179/picture?type=square","metaData":{"service":"facebook"},"iconEnabled":true,"serviceName":"facebook"},{"serviceId":4,"userId":"274308907","userName":"DreamingInCode","screenname":"Daniel Norman","addedOn":1370628195055,"profileUrl":"https://twitter.com/DreamingInCode","iconUrl":"http://a0.twimg.com/profile_images/1292254063/photo2_normal.JPG","collectionId":"51b22063e4b0b50ce836ec82","iconEnabled":true,"serviceName":"twitter"},{"serviceId":23,"userId":"398455","userName":"dnorman","screenname":"Daniel","addedOn":1370628210115,"profileUrl":"https://github.com/dnorman","iconUrl":"https://secure.gravatar.com/avatar/0c8cb432c3ecd131433c4ae57e1ff6c2?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png","iconEnabled":true,"serviceName":"github"},{"serviceId":32,"screenname":"Medium","addedOn":1514768734760,"profileUrl":"https://medium.com/@daniel.norman","iconEnabled":true,"serviceName":"medium"}],"typekitId":"","statsMigrated":true,"imageMetadataProcessingEnabled":false,"screenshotId":"da07441952f973b928c27a8d1ff55ebda71ee8a2a95d9d38bde22dfbf98f30ac","showOwnerLogin":false},"websiteSettings":{"id":"51b10199e4b00987e7d6891c","websiteId":"51b10198e4b00987e7d6891b","type":"Personal","subjects":[],"country":"US","state":"CA","simpleLikingEnabled":true,"mobileInfoBarSettings":{"isContactEmailEnabled":false,"isContactPhoneNumberEnabled":false,"isLocationEnabled":false,"isBusinessHoursEnabled":false},"commentLikesAllowed":true,"commentAnonAllowed":true,"commentThreaded":true,"commentApprovalRequired":false,"commentAvatarsOn":true,"commentSortType":2,"commentFlagThreshold":0,"commentFlagsAllowed":true,"commentEnableByDefault":true,"commentDisableAfterDaysDefault":0,"disqusShortname":"","commentsEnabled":true,"storeSettings":{"returnPolicy":null,"termsOfService":null,"privacyPolicy":null,"expressCheckout":false,"continueShoppingLinkUrl":"/","useLightCart":false,"showNoteField":false,"shippingCountryDefaultValue":"US","billToShippingDefaultValue":false,"showShippingPhoneNumber":true,"isShippingPhoneRequired":false,"showBillingPhoneNumber":true,"isBillingPhoneRequired":false,"currenciesSupported":["USD"],"defaultCurrency":"USD","selectedCurrency":"USD","measurementStandard":1,"showCustomCheckoutForm":false,"checkoutPageMarketingOptInEnabled":false,"enableMailingListOptInByDefault":true,"sameAsRetailLocation":false,"merchandisingSettings":{"scarcityEnabledOnProductItems":false,"scarcityEnabledOnProductBlocks":false,"scarcityMessageType":"DEFAULT_SCARCITY_MESSAGE","scarcityThreshold":10,"multipleQuantityAllowedForServices":true,"restockNotificationsEnabled":false,"restockNotificationsMailingListSignUpEnabled":false,"relatedProductsEnabled":false,"relatedProductsOrdering":"random","soldOutVariantsDropdownDisabled":false,"productComposerOptedIn":false,"productComposerABTestOptedOut":false,"productReviewsEnabled":false,"displayImportedProductReviewsEnabled":false,"hasOptedToCollectNativeReviews":false},"isLive":false,"multipleQuantityAllowedForServices":true},"useEscapeKeyToLogin":true,"ssBadgeType":1,"ssBadgePosition":4,"ssBadgeVisibility":1,"ssBadgeDevices":1,"pinterestOverlayOptions":{"mode":"disabled"},"ampEnabled":false},"cookieSettings":{"isCookieBannerEnabled":false,"isRestrictiveCookiePolicyEnabled":false,"isRestrictiveCookiePolicyAbsolute":false,"cookieBannerText":"","cookieBannerTheme":"","cookieBannerVariant":"","cookieBannerPosition":"","cookieBannerCtaVariant":"","cookieBannerCtaText":"","cookieBannerAcceptType":"OPT_IN","cookieBannerOptOutCtaText":""},"websiteCloneable":false,"collection":{"title":"Blog","id":"51b10199e4b00987e7d68923","fullUrl":"/blog","publicCommentCount":0,"type":1,"permissionType":1},"item":{"title":"Unbalanced - Why your load balancer hates you","id":"53d60150e4b0498d331db150","fullUrl":"/blog/2014/7/28/unbalanced","publicCommentCount":3,"commentState":1,"recordType":1},"subscribed":false,"appDomain":"squarespace.com","templateTweakable":true,"tweakJSON":{"aspect-ratio":"Auto","gallery-arrow-style":"No Background","gallery-aspect-ratio":"3:2 Standard","gallery-auto-crop":"true","gallery-autoplay":"false","gallery-design":"Slideshow","gallery-info-overlay":"Show on Hover","gallery-loop":"false","gallery-navigation":"Bullets","gallery-show-arrows":"true","gallery-transitions":"Fade","galleryArrowBackground":"rgba(34,34,34,1)","galleryArrowColor":"rgba(255,255,255,1)","galleryAutoplaySpeed":"3","galleryCircleColor":"rgba(255,255,255,1)","galleryInfoBackground":"rgba(0, 0, 0, .7)","galleryThumbnailSize":"100px","gridSize":"350px","gridSpacing":"20px","tweak-blog-list-columns":"3","tweak-blog-list-item-image-aspect-ratio-grid":"1:1 Square","tweak-blog-list-item-image-aspect-ratio-stacked":"1:1 Square","tweak-blog-list-item-image-show":"true","tweak-blog-list-spacing":"40px","tweak-blog-list-style":"Grid","tweak-footer-layout":"Stacked","tweak-header-bottom-overlay-on-index-gallery":"false","tweak-index-gallery-apply-bottom-spacing":"true","tweak-index-gallery-autoplay-duration":"2","tweak-index-gallery-autoplay-enable":"true","tweak-index-gallery-fixed-height":"true","tweak-index-gallery-height":"100vh","tweak-index-gallery-indicators":"Lines","tweak-index-gallery-layout":"Packed","tweak-index-gallery-transition":"Fade","tweak-index-gallery-transition-duration":"500","tweak-index-nav-position":"Right","tweak-index-page-apply-bottom-spacing":"false","tweak-index-page-fullscreen":"First Page Only","tweak-index-page-min-height":"100vh","tweak-mobile-breakpoint":"640px","tweak-overlay-parallax-enabled":"false","tweak-overlay-parallax-new-math":"true","tweak-product-item-image-zoom-factor":"2","tweak-product-list-item-hover-behavior":"Fade","tweak-product-list-items-per-row":"3","tweak-related-products-items-per-row":"3","tweak-related-products-title-spacing":"50px","tweak-site-ajax-loading-enable":"false","tweak-site-border-show":"false","tweak-site-border-width":"50px"},"templateId":"55f0aac0e4b0f0a5b7e0b22e","templateVersion":"7","pageFeatures":[1,2,4],"gmRenderKey":"QUl6YVN5Q0JUUk9xNkx1dkZfSUUxcjQ2LVQ0QWVUU1YtMGQ3bXk4","templateScriptsRootUrl":"https://static1.squarespace.com/static/ta/55f0a9b0e4b0f3eb70352f6d/349/scripts/","betaFeatureFlags":["campaigns_new_subscriber_search","member_areas_schedule_interview","campaigns_discount_section_in_blasts","campaigns_content_editing_survey","campaigns_new_image_layout_picker","campaigns_asset_picker","crm_enforce_recaptcha_v3_enterprise","fluid_engine","commerce_etsy_shipping_import","commerce_order_status_access","campaigns_discount_section_in_automations","background_art_onboarding","send_local_pickup_ready_email","fluid_engine_clean_up_grid_contextual_change","customer_account_creation_recaptcha","campaigns_thumbnail_layout","customer_accounts_email_verification","is_feature_gate_refresh_enabled","crm_enable_recaptcha_v3_enterprise","member_areas_spanish_interviews","order_status_page_checkout_landing_enabled","crm_remove_subscriber","commerce_clearpay","accounting_orders_sync","marketing_landing_page","crm_retention_segment","site_user_email_change","commerce_restock_notifications","commerce_site_visitor_metrics","crm_default_newsletter_block_to_campaigns","viewer-role-contributor-invites","campaigns_show_featured_templates","campaigns_global_uc_ab","block_annotations_revamp","campaigns_import_discounts","member_areas_provisioning_service","commerce_etsy_product_import","crm_waitlist_enforce_recaptcha_v3_enterprise","scripts_defer","nested_categories_migration_enabled","multilingual_transactional_emails"],"videoAssetsFeatureFlags":["mux-data-video-collection","mux-data-video-block","mux-data-course-collection"],"impersonatedSession":false,"tzData":{"zones":[[-300,"US","E%sT",null]],"rules":{"US":[[1967,2006,null,"Oct","lastSun","2:00","0","S"],[1987,2006,null,"Apr","Sun>=1","2:00","1:00","D"],[2007,"max",null,"Mar","Sun>=8","2:00","1:00","D"],[2007,"max",null,"Nov","Sun>=1","2:00","0","S"]]}},"showAnnouncementBar":false,"recaptchaEnterpriseContext":{"recaptchaEnterpriseSiteKey":"6LdDFQwjAAAAAPigEvvPgEVbb7QBm-TkVJdDTlAv"},"i18nContext":{"timeZoneData":{"id":"America/New_York","name":"Eastern Time"}}};</script><script>SquarespaceFonts.loadViaContext(); Squarespace.load(window);</script>
<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="../../../../blog%3Fformat=rss" />
<script type="application/ld+json">{"url":"https://danielnorman.net","name":"Daniel Norman","description":"<p>Rantings of a peculiar mind</p>","@context":"http://schema.org","@type":"WebSite"}</script><script type="application/ld+json">{"legalName":"","address":"San Diego, CA 92103","sameAs":["http://www.facebook.com/650194179","https://twitter.com/DreamingInCode","https://github.com/dnorman","https://medium.com/@daniel.norman"],"@context":"http://schema.org","@type":"Organization"}</script><script type="application/ld+json">{"address":"San Diego, CA 92103","name":"","@context":"http://schema.org","@type":"LocalBusiness"}</script><script type="application/ld+json">{"name":"Unbalanced - Why your load balancer hates you \u2014 Daniel Norman","url":"https://danielnorman.net/blog/2014/7/28/unbalanced","datePublished":"2014-07-28T04:50:26-0400","dateModified":"2017-10-18T04:14:08-0400","headline":"Unbalanced - Why your load balancer hates you","author":"Daniel Norman","publisher":{"name":"Daniel Norman","logo":{"@type":"ImageObject"},"@context":"http://schema.org","@type":"Organization"},"image":"http://static1.squarespace.com/static/51b10198e4b00987e7d6891b/51b10199e4b00987e7d68923/53d60150e4b0498d331db150/1508314448200/haproxy.png?format=1500w","@context":"http://schema.org","@type":"Article"}</script><link rel="stylesheet" type="text/css" href="https://static1.squarespace.com/static/sitecss/51b10198e4b00987e7d6891b/75/55f0aac0e4b0f0a5b7e0b22e/59e67339914e6beb319b1ff3/349/site.css"/><script src="https://unpkg.com/three"></script>
<script src="https://unpkg.com/three-spritetext"></script>
<script src="https://unpkg.com/3d-force-graph"></script>
<script>
    let graphdata = {
      "nodes": [
        {"id": "retrieval", "group": "data", "url": "/blog/2018/9/23/pushing-the-envelope-whats-possible-in-information-retrieval.html", "mtext": "Probing information retrieval", "ltext":"Probing the possible in information retrieval"},
        {"id": "kgraph", "group": "epistemology", "url": "/blog/2018/9/22/key-insights-on-knowledge-graphs-and-human-transcendence", "mtext": "Insights on Knowledge Graphs and Human Transcendence"},
        
        {"id": "verbosity", "group": "epistemology", "url": "/blog/2018/2/20/verbosity-vs-veracity-my-ford-foundation-submission", "mtext": "Verbosity vs Veracity"},
        {"id": "makingsense1", "group": "epistemology", "url": "/blog/2019/10/19/making-sense-part1-the-7-tiers-of-sensemaking", "mtext": "7 Tiers of Sensemaking"},
        {"id":"asshole", "group": "data", "url":"/blog/2015/8/29/stop-making-dave-look-like-an-asshole", "mtext":"Vector Clocks Explained", "ltext":"Stop making Dave look like an asshole"},
        {"id":"unbalanced", "group": "data", "url":"/blog/2014/7/28/unbalanced", "mtext": "Load Balancers", "ltext":"Unbalanced - Why your load balancer hates you" },
        {"id":"consistency", "group": "data", "url":"/talks/2017/10/27/reasoning-about-data-and-consistency-in-systems", "mtext": "Reasoning about consistency"},
        {"id":"capcrit","group":"data", "url":"/talks/2017/10/27/papers-we-love-san-diego-a-critique-of-the-cap-theorem-by-martin-kleppmann", "mtext":"A critique of CAP"},
        {"id":"unbaseamw43", "group":"data", "url":"/talks/2017/10/17/43rd-annual-asilomar-microcomputer-workshop-unbase-distributed-database-for-human-interaction", "mtext":"unba.se at AMW43"},
        {"id":"unbasehtps17", "group":"data", "url":"/talks/2017/10/17/hpts-unbase-caffeinated-edition", "mtext":"unba.se at HPTS17"},
        {"id":"unbase", "group":"data", "url":"https://unba.se", "mtext":"Unbase"},
        {"id":"localitypaper", "group":"data", "url":"https://danielnorman.net/hpts-2019-position-paper", "mtext":"Locality Position paper"},
        {"id":"impossibilityofimmortality", "group":"epistemology","url":"/blog/2020/11/9/commentary-on-barry-smiths-talk-the-impossibility-of-digital-immortality", "mtext":"Impossibility of Digital Immortality"}
      ],
        "links": [ 
        {"source": "kgraph", "target": "retrieval", "sreason": "tyrranical topologies"},
        {"source": "kgraph", "target": "verbosity", "sreason": "modern epistemology"},
        {"source": "makingsense1", "target": "kgraph", "sreason": "modern epistemology"},
        {"source": "makingsense1", "target": "verbosity", "sreason": "modern epistemology"},


        {"source": "asshole", "target": "retrieval", "sreason": "time clocks"},
        { "source": "unbalanced", "target":"retrieval", "sreason": "state machine mayhem"},
        { "source":"asshole", "target":"consistency", "sreason":"consistency model" },
        { "source": "capcrit", "target": "consistency", "sreason": "leaky abstraction"},
        { "source": "unbaseamw43", "target": "consistency", "sreason": "Is there a better way?"},
        { "source": "retrieval", "target": "unbase", "sreason": "Refers to"},
        { "source": "kgraph", "target": "unbase", "sreason": "Improving control dynamics"},
        { "source": "unbaseamw43", "target": "unbase", "sreason": "" },
        { "source": "unbasehtps17", "target": "unbase", "sreason":"" },
        { "source": "unbase", "target": "localitypaper", "sreason": "" },
        { "source": "impossibilityofimmortality", "target":"makingsense1", "sreason":""},
      ]
    };

  function load_gl_title(){
  let url = document.querySelector("link[rel='canonical']").getAttribute("href");
  let header = document.querySelector("header");
  let article = document.querySelector("article");
  let title = document.querySelector(".BlogItem-title");
  let node = graphdata.nodes.find((n) => {
    return url.includes(n.url)
  });
    
 
  if (title && node && detectWebGL()){
    title.style.height = '240px';
    title.innerHtml = '';
    title.style.margin = '-60px 0px 0px 0px';
    
    //header.style.opacity = 0.5;
    //article.style['padding-top'] = '100px';
    //title.style.position = 'absolute';
    //title.style.top = '0px';
    //title.style.left = '0px';
    
    const Graph = ForceGraph3D();
    Graph.height(240);
    Graph.width(title.clientWidth);
    Graph.showNavInfo(false);
    Graph.backgroundColor('#000');

    Graph(title)
        .graphData(graphdata)
        .nodeAutoColorBy('group')
        .nodeThreeObject(node => {
          // use a sphere as a drag handle
          const obj = new THREE.Mesh(
            new THREE.SphereGeometry(1),
            new THREE.MeshBasicMaterial({ depthWrite: false, transparent: true, opacity: 0 })
          );
          // add text sprite as child
          const sprite = new SpriteText(node.ltext || node.mtext);
          sprite.color = node.color;
          sprite.fontSize = 30;
          sprite.textHeight = 2;
          obj.add(sprite);
          return obj;
        })
    
      .linkDirectionalParticles(10)
      .linkDirectionalParticleSpeed(0.001)
    .enableNodeDrag(false)
    .onNodeHover(node => title.style.cursor = node ? 'pointer' : null)
    .dagMode('radial');
    Graph.onNodeClick(n => {
          const distance = 14;
          const distRatio = 1 + distance/Math.hypot(n.x, n.y, n.z);

          Graph.cameraPosition(
            { x: n.x * distRatio, y: n.y * distRatio, z: n.z * distRatio }, // new position
            n, // lookAt ({ x, y, z })
            1000  // ms transition duration
          );
      setTimeout(() =>{
          window.location = n.url;
      },1500);
    });

    
    // Spread nodes a little wider
    Graph.d3Force('charge').strength(-10);
    
    Graph.scene().fog = new THREE.FogExp2( 0x000000, 0.015 );
    
    window.addEventListener('scroll', function (event) {
        if (isInViewport(title)) {
            console.log('in viewport');
             Graph.resumeAnimation()
        }else{
          console.log('not in viewport');
             Graph.pauseAnimation();
        }
    }, false);
    
    setTimeout(function(){
      // Aim at node from outside it
      const distance = 12;
      const distRatio = 1 + distance/Math.hypot(node.x, node.y, node.z);
      Graph.cameraPosition(
        { x: node.x * distRatio, y: node.y * distRatio, z: node.z * distRatio }, // new position
        node, // lookAt ({ x, y, z })
        2000  // ms transition duration
      );
/*      setTimeout(() => {
        let angle = 0;
        setInterval(() => {
          Graph.cameraPosition({
            x: distance * Math.sin(angle),
            z: distance * Math.cos(angle)
          });
          angle += Math.PI / 3000;
        }, 20);
      }, 2500);
*/
    }, 900);
  }
  }
  
  document.addEventListener("DOMContentLoaded", load_gl_title);
  //window.addEventListener("load", load_gl_title);
  
  function detectWebGL()
{
    // Check for the WebGL rendering context
    if ( !! window.WebGLRenderingContext) {
        var canvas = document.createElement("canvas"),
            names = ["webgl", "experimental-webgl", "moz-webgl", "webkit-3d"],
            context = false;

        for (var i in names) {
            try {
                context = canvas.getContext(names[i]);
                if (context && typeof context.getParameter === "function") {
                    // WebGL is enabled.
                    return 1;
                }
            } catch (e) {}
        }

        // WebGL is supported, but disabled.
        return 0;
    }

    // WebGL not supported.
    return -1;
};

function isInViewport (elem) {
    var bounding = elem.getBoundingClientRect();
    return (
        bounding.top >= 0 &&
        bounding.left >= 0 &&
        bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        bounding.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
};
</script><script>Static.COOKIE_BANNER_CAPABLE = true;</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67022310-1"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('set', 'developer_id.dZjQwMz', true);gtag('config', 'UA-67022310-1');</script><!-- End of Squarespace Headers -->
  </head>
  <body id="item-53d60150e4b0498d331db150" class="tweak-social-icons-style-solid tweak-social-icons-shape-square tweak-site-width-option-constrained-width tweak-icon-weight-light   tweak-site-ajax-loading-bar-show ancillary-header-top-left-layout-horizontal ancillary-header-top-center-layout-horizontal ancillary-header-top-right-layout-horizontal ancillary-header-bottom-left-layout-horizontal ancillary-header-bottom-center-layout-horizontal ancillary-header-bottom-right-layout-horizontal ancillary-header-branding-position-bottom-left ancillary-header-tagline-position-hide ancillary-header-primary-nav-position-bottom-right ancillary-header-secondary-nav-position-bottom-right ancillary-header-social-position-hide ancillary-header-search-position-hide ancillary-header-cart-position-top-right ancillary-header-account-position-hide tweak-header-primary-nav-hover-style-fade tweak-header-primary-nav-button-style-solid tweak-header-primary-nav-button-shape-square tweak-header-secondary-nav-inherit-styles tweak-header-secondary-nav-hover-style-spotlight tweak-header-secondary-nav-button-style-solid tweak-header-secondary-nav-button-shape-square tweak-header-search-style-underlined tweak-header-search-placeholder-show tweak-header-cart-style-text tweak-header-account-style-text  tweak-overlay-parallax-new-math tweak-index-nav-style-none tweak-index-nav-position-right tweak-index-nav-text-show tweak-index-page-fullscreen-first-page-only  tweak-index-page-scroll-indicator-none tweak-index-page-scroll-indicator-icon-arrow tweak-index-page-scroll-indicator-icon-weight-hairline  tweak-index-gallery-layout-packed tweak-index-gallery-spacing-sides-show tweak-index-gallery-spacing-top-bottom-show tweak-index-gallery-fixed-height tweak-index-gallery-apply-bottom-spacing tweak-index-gallery-hover-style-fade tweak-index-gallery-controls-small-arrows tweak-index-gallery-controls-icon-weight-hairline tweak-index-gallery-indicators-lines tweak-index-gallery-autoplay-enable tweak-index-gallery-transition-fade tweak-index-gallery-content-position-top-left tweak-index-gallery-content-text-alignment-left tweak-footer-show tweak-footer-layout-stacked tweak-footer-layout-columns-auto tweak-footer-stacked-alignment-center   tweak-mobile-bar-top-fixed ancillary-mobile-bar-branding-position-top-center ancillary-mobile-bar-menu-icon-position-top-left tweak-mobile-bar-menu-icon-hamburger ancillary-mobile-bar-search-icon-position-hide ancillary-mobile-bar-cart-position-bottom-center tweak-mobile-bar-cart-style-cart ancillary-mobile-bar-account-position-hide tweak-mobile-bar-account-style-text tweak-mobile-overlay-slide-origin-left tweak-mobile-overlay-close-show  tweak-mobile-overlay-menu-primary-button-style-solid tweak-mobile-overlay-menu-primary-button-shape-square   tweak-mobile-overlay-menu-secondary-button-style-solid tweak-mobile-overlay-menu-secondary-button-shape-square tweak-quote-block-alignment-center  tweak-blog-meta-primary-tags tweak-blog-meta-secondary-date tweak-blog-list-style-grid tweak-blog-list-separator-show tweak-blog-list-alignment-left tweak-blog-list-item-image-show tweak-blog-list-item-image-aspect-ratio-grid-11-square tweak-blog-list-item-image-aspect-ratio-stacked-11-square tweak-blog-list-item-title-show tweak-blog-list-item-excerpt-show tweak-blog-list-item-body-show tweak-blog-list-item-readmore-inline tweak-blog-list-item-meta-position-below-content tweak-blog-list-pagination-link-label-show  tweak-blog-list-pagination-link-icon-weight-light tweak-blog-item-alignment-center tweak-blog-item-meta-position-below-title tweak-blog-item-share-position-below-content tweak-blog-item-pagination-link-icon-show tweak-blog-item-pagination-link-label-show tweak-blog-item-pagination-link-title-show tweak-blog-item-pagination-link-meta-hide tweak-blog-item-pagination-link-icon-weight-light   event-thumbnails event-thumbnail-size-32-standard event-date-label  event-list-show-cats event-list-date event-list-time event-list-address     event-excerpts  event-item-back-link    gallery-design-slideshow aspect-ratio-auto lightbox-style-dark gallery-navigation-bullets gallery-info-overlay-show-on-hover gallery-aspect-ratio-32-standard gallery-arrow-style-no-background gallery-transitions-fade gallery-show-arrows gallery-auto-crop   tweak-product-list-image-aspect-ratio-11-square tweak-product-list-item-hover-behavior-fade tweak-product-list-meta-position-under tweak-product-list-mobile-meta-position-under tweak-product-list-meta-alignment-under-center tweak-product-list-meta-alignment-overlay-center-center tweak-product-list-show-title tweak-product-list-show-price tweak-product-list-filter-display-top tweak-product-list-filter-alignment-center tweak-product-item-nav-show-breadcrumb-and-pagination tweak-product-item-nav-pagination-style-previousnext tweak-product-item-nav-breadcrumb-alignment-left tweak-product-item-nav-pagination-alignment-split tweak-product-item-gallery-position-left tweak-product-item-gallery-design-stacked tweak-product-item-gallery-aspect-ratio-34-three-four-vertical tweak-product-item-gallery-thumbnail-alignment-center tweak-product-item-details-alignment-left tweak-product-item-details-show-title tweak-product-item-details-show-price tweak-product-item-details-show-excerpt tweak-product-item-details-excerpt-position-below-price tweak-product-item-details-show-share-buttons tweak-product-item-details-show-variants tweak-product-item-details-show-quantity tweak-product-item-details-options-style-square tweak-product-item-details-show-add-to-cart-button tweak-product-item-details-add-to-cart-button-style-outline tweak-product-item-details-add-to-cart-button-shape-square tweak-product-item-details-add-to-cart-button-padding-large tweak-product-item-image-zoom-enabled tweak-product-item-image-zoom-behavior-click  tweak-related-products-image-aspect-ratio-11-square tweak-related-products-meta-alignment-under-center tweak-product-badge-style-none tweak-product-badge-position-top-right tweak-product-badge-inset-floating newsletter-style-custom hide-opentable-icons opentable-style-dark small-button-style-solid small-button-shape-square medium-button-style-solid medium-button-shape-square large-button-style-outline large-button-shape-square image-block-poster-text-alignment-center image-block-card-dynamic-font-sizing image-block-card-content-position-center image-block-card-text-alignment-left image-block-overlap-dynamic-font-sizing image-block-overlap-content-position-center image-block-overlap-text-alignment-left image-block-collage-dynamic-font-sizing image-block-collage-content-position-top image-block-collage-text-alignment-left image-block-stack-dynamic-font-sizing image-block-stack-text-alignment-left button-style-outline button-corner-style-square tweak-product-quick-view-button-style-floating tweak-product-quick-view-button-position-center tweak-product-quick-view-lightbox-excerpt-display-truncate tweak-product-quick-view-lightbox-show-arrows tweak-product-quick-view-lightbox-show-close-button tweak-product-quick-view-lightbox-controls-weight-medium tweak-share-buttons-style-icon-only tweak-share-buttons-icons-show    tweak-share-buttons-standard-background-color native-currency-code-usd view-item collection-51b10199e4b00987e7d68923 collection-type-blog collection-layout-default mobile-style-available sqs-has-custom-cart has-site-title has-social enable-load-effects has-primary-nav has-footer-nav" data-controller="HashManager, SiteLoader, MobileClassname">

    <div class="Loader"></div>

    <div class="Mobile" data-nc-base="mobile-bar" data-controller="AncillaryLayout">
  <div class="Mobile-bar Mobile-bar--top" data-nc-group="top" data-controller="MobileOffset">

    <div data-nc-container="top-left">
      <a href="https://danielnorman.net/" class="Mobile-bar-branding" data-nc-element="branding" data-content-field="site-title">
        
          
            Daniel Norman
          
        
      </a>
    </div>
    <div data-nc-container="top-center"></div>
    <div data-nc-container="top-right"></div>
  </div>
  <div class="Mobile-bar Mobile-bar--bottom" data-nc-group="bottom" data-controller="MobileOffset">
    <div data-nc-container="bottom-left">
      <button class="Mobile-bar-menu" data-nc-element="menu-icon" data-controller-overlay="menu" data-controller="MobileOverlayToggle">
        <svg class="Icon Icon--hamburger" viewBox="0 0 24 18">
          <use xlink:href="/assets/ui-icons.svg#hamburger-icon--even" class="use--even"></use>
          <use xlink:href="/assets/ui-icons.svg#hamburger-icon--odd" class="use--odd"></use>
        </svg>
        <svg class="Icon Icon--hotdog" viewBox="0 0 24 14">
          <use xlink:href="/assets/ui-icons.svg#hotdog-icon--even" class="use--even"></use>
          <use xlink:href="/assets/ui-icons.svg#hotdog-icon--odd" class="use--odd"></use>
        </svg>
        <svg class="Icon Icon--plus" viewBox="0 0 20 20">
          <use xlink:href="/assets/ui-icons.svg#plus-icon--even" class="use--even"></use>
          <use xlink:href="/assets/ui-icons.svg#plus-icon--odd" class="use--odd"></use>
        </svg>
        <svg class="Icon Icon--dots-horizontal" viewBox="0 0 25 7">
          <use xlink:href="/assets/ui-icons.svg#dots-horizontal-icon--even" class="use--even"></use>
          <use xlink:href="/assets/ui-icons.svg#dots-horizontal-icon--odd" class="use--odd"></use>
        </svg>
        <svg class="Icon Icon--dots-vertical" viewBox="0 0 7 25">
          <use xlink:href="/assets/ui-icons.svg#dots-vertical-icon--even" class="use--even"></use>
          <use xlink:href="/assets/ui-icons.svg#dots-vertical-icon--odd" class="use--odd"></use>
        </svg>
        <svg class="Icon Icon--squares-horizontal" viewBox="0 0 25 7">
          <use xlink:href="/assets/ui-icons.svg#squares-horizontal-icon--even" class="use--even"></use>
          <use xlink:href="/assets/ui-icons.svg#squares-horizontal-icon--odd" class="use--odd"></use>
        </svg>
        <svg class="Icon Icon--squares-vertical" viewBox="0 0 7 25">
          <use xlink:href="/assets/ui-icons.svg#squares-vertical-icon--even" class="use--even"></use>
          <use xlink:href="/assets/ui-icons.svg#squares-vertical-icon--odd" class="use--odd"></use>
        </svg>
      </button>
    </div>
    <div data-nc-container="bottom-center">
      
    </div>
    <div data-nc-container="bottom-right">
      
      <a href="../../../../search" class="Mobile-bar-search" data-nc-element="search-icon">
        <svg class="Icon Icon--search" viewBox="0 0 20 20">
          <use xlink:href="/assets/ui-icons.svg#search-icon"></use>
        </svg>
      </a>
    </div>
  </div>

  <div class="Mobile-overlay">
    <div class="Mobile-overlay-menu" data-controller="MobileOverlayFolders">
      <div class="Mobile-overlay-menu-main">
        <nav class="Mobile-overlay-nav Mobile-overlay-nav--primary" data-content-field="navigation">
          
  
    
      
        
          <a href="../../../../talks.html" class="Mobile-overlay-nav-item">
            Talks
          </a>
        
      
    
    
  
    
      
        
          <a href="../../../../blog.html" class="Mobile-overlay-nav-item">
            Blog
          </a>
        
      
    
    
  
    
      
        
          
            <a href="https://danielnorman.net/about" class="Mobile-overlay-nav-item">
              About
            </a>
          
        
      
    
    
  
    
      
        
          
            <a href="../../../../contact-feed.html" class="Mobile-overlay-nav-item">
              Contact
            </a>
          
        
      
    
    
  
    
      
        
          <a href="https://danielnorman.net/coc" class="Mobile-overlay-nav-item">
            Codes of Conduct
          </a>
        
      
    
    
  

        </nav>
        <nav class="Mobile-overlay-nav Mobile-overlay-nav--secondary" data-content-field="navigation">
          
        </nav>
      </div>
      <div class="Mobile-overlay-folders" data-content-field="navigation">
        
  

  

  

  

  

        
      </div>
    </div>
    <button class="Mobile-overlay-close" data-controller="MobileOverlayToggle">
      <svg class="Icon Icon--close" viewBox="0 0 16 16">
        <use xlink:href="/assets/ui-icons.svg#close-icon"></use>
      </svg>
    </button>
    <div class="Mobile-overlay-back" data-controller="MobileOverlayToggle"></div>
  </div>
</div>


    <div class="Parallax-host-outer">
      <div class="Parallax-host" data-parallax-host>
        
          
            
          
        
      </div>
    </div>

    <div class="Site" data-nc-base="header" data-controller="AncillaryLayout">
      <div class="sqs-announcement-bar-dropzone"></div>

      <header class="Header Header--top">
        <div class="Header-inner Header-inner--top" data-nc-group="top">
          <div data-nc-container="top-left">

            <div class="Header-search" data-nc-element="search">
              <form class="Header-search-form" action="../../../../search" method="get">
                <input class="Header-search-form-input" name="q" type="text" spellcheck="false" value="" autocomplete="off" placeholder="Search" />
                <button class="Header-search-form-submit" type="submit" data-test="template-search">
                  <svg class="Icon Icon--search--small" viewBox="0 0 15 15">
                    <use xlink:href="/assets/ui-icons.svg#search-icon--small"></use>
                  </svg>
                  <svg class="Icon Icon--search" viewBox="0 0 20 20">
                    <use xlink:href="/assets/ui-icons.svg#search-icon"></use>
                  </svg>
                </button>
              </form>
            </div>

          </div>
          <div data-nc-container="top-center">
            
            
              <div class="Header-social" data-nc-element="social">
                
  <nav class="SocialLinks" data-content-field="connected-accounts">
    <div class="SocialLinks-inner">
    <a href="http://www.facebook.com/650194179" target="_blank" class="SocialLinks-link facebook" style="">
        <div>
          <svg class="SocialLinks-link-svg" viewBox="0 0 64 64">
            
            <use class="SocialLinks-link-icon" xlink:href="#facebook-icon"></use>
            <use class="SocialLinks-link-mask" xlink:href="#facebook-mask"></use>
          </svg>
        </div>
      </a><a href="https://twitter.com/DreamingInCode" target="_blank" class="SocialLinks-link twitter" style="">
        <div>
          <svg class="SocialLinks-link-svg" viewBox="0 0 64 64">
            
            <use class="SocialLinks-link-icon" xlink:href="#twitter-icon"></use>
            <use class="SocialLinks-link-mask" xlink:href="#twitter-mask"></use>
          </svg>
        </div>
      </a><a href="https://github.com/dnorman" target="_blank" class="SocialLinks-link github" style="">
        <div>
          <svg class="SocialLinks-link-svg" viewBox="0 0 64 64">
            
            <use class="SocialLinks-link-icon" xlink:href="#github-icon"></use>
            <use class="SocialLinks-link-mask" xlink:href="#github-mask"></use>
          </svg>
        </div>
      </a><a href="https://medium.com/@daniel.norman" target="_blank" class="SocialLinks-link medium" style="">
        <div>
          <svg class="SocialLinks-link-svg" viewBox="0 0 64 64">
            
            <use class="SocialLinks-link-icon" xlink:href="#medium-icon"></use>
            <use class="SocialLinks-link-mask" xlink:href="#medium-mask"></use>
          </svg>
        </div>
      </a>
    </div>
  </nav>

              </div>
            
          </div>
          <div data-nc-container="top-right">

            

          </div>
        </div>
      </header>

      <div class="Site-inner">

        <header class="Header Header--bottom">
          <div class="Header-inner Header-inner--bottom" data-nc-group="bottom">
            <div data-nc-container="bottom-left">
              <nav class="Header-nav Header-nav--primary" data-nc-element="primary-nav" data-content-field="navigation">
                
  <div class="Header-nav-inner">
    <a href="../../../../talks.html" class="Header-nav-item" data-test="template-nav">Talks</a><a href="../../../../blog.html" class="Header-nav-item Header-nav-item--active" data-test="template-nav">Blog</a><a href="https://danielnorman.net/about" class="Header-nav-item" data-test="template-nav">About</a><a href="../../../../contact-feed.html" class="Header-nav-item" data-test="template-nav">Contact</a><a href="https://danielnorman.net/coc" class="Header-nav-item" data-test="template-nav">Codes of Conduct</a>
  </div>

              </nav>
            </div>
            <div data-nc-container="bottom-center">

              <a href="https://danielnorman.net/" class="Header-branding" data-nc-element="branding" data-content-field="site-title">
                
                  
                    Daniel Norman
                  
                
              </a>
              

            </div>
            <div data-nc-container="bottom-right">

              <nav class="Header-nav Header-nav--secondary" data-nc-element="secondary-nav" data-content-field="navigation">
                
              </nav>

            </div>
          </div>
        </header>

        <div class="Content-outer">
          

          <main class="Main Main--blog-item" >
            
              <section class="Main-content" data-content-field="main-content">
                <article id="post-53d60150e4b0498d331db150" class="BlogItem hentry author-daniel-norman post-type-text has-comments" data-item-id="53d60150e4b0498d331db150">

    
      <h1 class="BlogItem-title" data-content-field="title">Unbalanced - Why your load balancer hates you</h1>
    

    <div class="sqs-layout sqs-grid-12 columns-12" data-layout-label="Post Body" data-type="item" data-updated-on="1406537426213" id="item-53d60150e4b0498d331db150"><div class="row sqs-row"><div class="col sqs-col-12 span-12"><div class="sqs-block html-block sqs-block-html" data-block-type="2" id="block-7718f8c1e9554190089f"><div class="sqs-block-content">

<h2>Your centralized load balancer secretly hates you. You just haven't realized it yet.</h2><p><em>(Another in my 947 part series on why anything centralized inherently sucks. I barely even like central air)</em></p><p>Lets rip off the band aid: It might work well enough for brochureware, but for web-based applications, centralized load balancing is just a dumb idea. It started out as a hack to make a bunch of servers look like one server; a workaround for the fact that HTTP and the web wasn't designed for modern applications. It's an unnecessary middleman and a bottleneck. It forces you toward certain strictures that are not suitable for the modern web. It doesn't like you, and it doesn't like your friends.</p><h3>HAProxy load balancing sucks</h3><ul><li>Because it ties you to one IP address / data center. (Do you really want to deal with setting up anycast?)</li><li>Because monitoring bogged/failing hosts has an unacceptable delay. Your users will get a hung/refused connection for at least several seconds before the monitoring catches it. Your client has fresher health data than your load balancer.</li><li>Because it's a single point of failure. I've had more load balancers fail than I have fingers - That's at least eleven times too many</li></ul><h3>DNS round robin sucks ( ok, actually it's HTTP 1.1 that sucks )</h3><ul><li>Because some browsers will only try one IP address from the group.</li><li>Some browsers will try another IP&nbsp;<a href="http://www.isc.org/blogs/how-to-connect-to-a-multi-homed-server-over-tcp/"><strong>after 30 seconds</strong></a>&nbsp;of your users sitting there wondering why they hired you. Browser authors are squeamish about DOS'ing your servers with concurrent connection attempts.</li></ul><h3>Active DNS sucks even harder</h3><ul><li>Because their monitoring assumes that your clients have a route to the server just because they do (and the inverse)</li><li>Because some ISPs ignore DNS TTL values</li><li>Because 30 seconds is way too long to wait for a good connection</li><li>Because DYN is a horrible company</li></ul><p> </p><p>If you're schlepping adult toys or hotel reservations, then sure, you could get away with a regular, old fashioned centralized load balancer; BUT, if you're doing something serious, like gaming, automation, or that you otherwise give a carp about your customer, you might start to realize that 30 seconds is wayyy too long to wait if you're having an issue with server X.&nbsp;</p><h3>The solution is simple:&nbsp;Push the load balancer to the client</h3><p>The fix is stunningly simple, in principle at least. Load the basic app via your CDN or whatever, and include a list of servers. Use websockets (or ajax, if you must) and connect to at least two of them simultaneously. You can make the client as gentle, or as aggressive as you like. Want to take a server offline? go for it. Design your client to simply try another one. If raw performance is desired, connect to multiple servers and measure RTT between them. Server A is responding within 30ms, server B takes 300ms, therefore, route requests to server A, use B as a standby, or maybe give server C a poke.</p><p>For my use case, we use an exponential backoff. The app could have 10 or more connection attempts going at a time if necessary, and that's ok. If your servers are geographically distributed, and you are contending with backbone cut or other routing problem, it'll automatically find a node it can reach. Try <em>that</em> with a centralized load balancer.</p><h3>The moral of the story</h3><p>Cut out the middle man. Load balancers in the middle are not your friend. They're a liability. Push the load balancing and failover to the client. Your users will be much happier, and you'll get a lot fewer calls at 4am.</p>


</div></div></div></div></div>

    <div class="Blog-meta BlogItem-meta">
      <!--

      Author

      --><a href="https://danielnorman.net/blog?author=51b10198e4b00987e7d68919" class="Blog-meta-item Blog-meta-item--author">Daniel Norman</a><!--

      Date

      --><time class="Blog-meta-item Blog-meta-item--date" datetime="2014-07-28">July 28, 2014</time><!--

      Comments

      --><span class="Blog-meta-item Blog-meta-item--comments"><a href="unbalanced.html#comments-53d60150e4b0498d331db150">3 Comments</a></span>
    </div>

    <div class="BlogItem-share">

<div class="Share sqs-share-buttons" data-item-identifier="53d60150e4b0498d331db150" data-item-path="blog/2014/7/28/unbalanced">

  <div class="Share-buttons">

    <!--

      Facebook

    --><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdanielnorman.net%2Fblog%2F2014%2F7%2F28%2Funbalanced" class="Share-buttons-item Share-buttons-item--social" target="_blank" data-service="facebook">
        <svg class="Share-buttons-item-icon" viewBox="0 0 64 64">
          <use xlink:href="/universal/svg/social-accounts.svg#facebook-icon"></use>
        </svg><span class="Share-buttons-item-label">Facebook</span><span class="Share-buttons-item-count">0</span>
      </a><!--

      Twitter

    --><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fdanielnorman.net%2Fblog%2F2014%2F7%2F28%2Funbalanced&text=" class="Share-buttons-item Share-buttons-item--social" target="_blank" data-service="twitter">
        <svg class="Share-buttons-item-icon" viewBox="0 0 64 64">
          <use xlink:href="/universal/svg/social-accounts.svg#twitter-icon"></use>
        </svg><span class="Share-buttons-item-label">Twitter</span>
      </a><!--

      LinkedIn

    --><a href="https://www.linkedin.com/shareArticle?mini=true&source=Daniel+Norman&summary=&url=https%3A%2F%2Fdanielnorman.net%2Fblog%2F2014%2F7%2F28%2Funbalanced" class="Share-buttons-item Share-buttons-item--social" target="_blank" data-service="linkedin">
        <svg class="Share-buttons-item-icon" viewBox="0 0 64 64">
          <use xlink:href="/universal/svg/social-accounts.svg#linkedin-icon"></use>
        </svg><span class="Share-buttons-item-label">LinkedIn</span><span class="Share-buttons-item-count">0</span>
      </a><!--

      Reddit

    --><a href="https://www.reddit.com/submit?url=https%3A%2F%2Fdanielnorman.net%2Fblog%2F2014%2F7%2F28%2Funbalanced" class="Share-buttons-item Share-buttons-item--social" target="_blank" data-service="reddit">
        <svg class="Share-buttons-item-icon" viewBox="0 0 64 64">
          <use xlink:href="/universal/svg/social-accounts.svg#reddit-icon"></use>
        </svg><span class="Share-buttons-item-label">Reddit</span>
      </a><!--

      Tumblr

    --><a href="https://www.tumblr.com/share/link?url=https%3A%2F%2Fdanielnorman.net%2Fblog%2F2014%2F7%2F28%2Funbalanced" class="Share-buttons-item Share-buttons-item--social" target="_blank" data-service="tumblr">
        <svg class="Share-buttons-item-icon" viewBox="0 0 64 64">
          <use xlink:href="/universal/svg/social-accounts.svg#tumblr-icon"></use>
        </svg><span class="Share-buttons-item-label">Tumblr</span>
      </a><!--

      Pinterest

    --><a href="https://www.pinterest.com/pin/create/link/?description=&media=https://images.squarespace-cdn.com/content/v1/51b10198e4b00987e7d6891b/1508314443379-P8WCMD8G7V8EUK5ODDW2/haproxy.png&url=https%3A%2F%2Fdanielnorman.net%2Fblog%2F2014%2F7%2F28%2Funbalanced" class="Share-buttons-item Share-buttons-item--social" target="_blank" data-service="pinterest">
        <svg class="Share-buttons-item-icon" viewBox="0 0 64 64">
          <use xlink:href="/universal/svg/social-accounts.svg#pinterest-icon"></use>
        </svg><span class="Share-buttons-item-label">Pinterest</span><span class="Share-buttons-item-count">0</span>
      </a><!--

      Simple Like

    --><a href="unbalanced.html#" class="Share-buttons-item Share-buttons-item--like" data-item-identifier="53d60150e4b0498d331db150" data-like-count="2" data-service="squarespace-like">
        <svg class="Share-buttons-item-icon" viewBox="0 0 64 64">
          <g class="svg-icon">
            <path d="M39.9,37.8c-7.3,4.8-7.7,6.9-7.9,7.8c-0.2-0.9-0.6-3-7.9-7.8c-16-10.6,1.4-25.4,7.9-11.7C38.5,12.4,55.9,27.3,39.9,37.8z"/>
          </g>
        </svg><span class="Share-buttons-item-label"><span class="Share-buttons-item-label-count">0</span> Likes</span>
      </a>
    

  </div>

</div>
</div>

    <section id="comments-53d60150e4b0498d331db150" class="BlogItem-comments">
      
  <div class="squarespace-comments" id="comments-53d60150e4b0498d331db150" data-item-id="53d60150e4b0498d331db150" data-public-comment-count="3" data-comment-state="1"></div>

    </section>

  </article>





  <nav class="BlogItem-pagination clear">

    
      <a href="../../../2015/8/29/rip-off-the-band-aid-my-ricon-cfp-submission.html" class="BlogItem-pagination-link BlogItem-pagination-link--prev">
        <svg class="BlogItem-pagination-link-icon" viewBox="0 0 23 48">
          <g class="svg-icon">
            <polyline fill="none" stroke-miterlimit="10" points="21.5,1.3 2.6,23.4 21.5,45.7 "/>
          </g>
        </svg><!--
        --><div class="BlogItem-pagination-link-content">
          <div class="BlogItem-pagination-link-label">Previous</div>
          <h4 class="BlogItem-pagination-link-title">Ripping off the band-aid - My RICON CFP Submission </h4>
          <div class="BlogItem-pagination-link-meta">
            <!--

            Author

            --><span class="BlogItem-pagination-link-meta-item BlogItem-pagination-link-meta-item--author">Daniel Norman</span><!--

            Date

            --><time class="BlogItem-pagination-link-meta-item BlogItem-pagination-link-meta-item--date" datetime="2015-08-29">August 29, 2015</time><!--

            Tags

            --><span class="BlogItem-pagination-link-meta-item BlogItem-pagination-link-meta-item--tags">Decentralization, Oppositionality, Public speaking</span><!--

            Comments

            --><span class="BlogItem-pagination-link-meta-item BlogItem-pagination-link-meta-item--comments"></span>
          </div>
        </div>
      </a>
    

    
      <a href="https://danielnorman.net/blog/2013/10/12/zljfknxgio2ssi9hwhnwij7ucyvrkl" class="BlogItem-pagination-link BlogItem-pagination-link--next">
        <div class="BlogItem-pagination-link-content">
          <div class="BlogItem-pagination-link-label">Next</div>
          <h4 class="BlogItem-pagination-link-title">Deus meus sine genitalibus</h4>
          <div class="BlogItem-pagination-link-meta">
            <!--

            Author

            --><span class="BlogItem-pagination-link-meta-item BlogItem-pagination-link-meta-item--author">Daniel Norman</span><!--

            Date

            --><time class="BlogItem-pagination-link-meta-item BlogItem-pagination-link-meta-item--date" datetime="2013-12-22">December 22, 2013</time>
          </div>
        </div><!--
        --><svg class="BlogItem-pagination-link-icon" viewBox="0 0 23 48">
          <g class="svg-icon">
            <polyline fill="none" stroke-miterlimit="10" points="1.5,45.7 20.4,23.5 1.5,1.3 "/>
          </g>
        </svg>
      </a>
    

  </nav>
              </section>
            
          </main>

        </div>
      </div>

      <footer class="Footer" role="contentinfo" data-controller="FooterBreakpoints">

  <div class="Footer-inner clear">

    <div class="sqs-layout sqs-grid-12 columns-12 Footer-blocks Footer-blocks--top sqs-alternate-block-style-container" data-layout-label="Footer Top Blocks" data-type="block-field" data-updated-on="1454212685138" id="footerBlocksTop"><div class="row sqs-row"><div class="col sqs-col-12 span-12"><div class="row sqs-row"><div class="col sqs-col-0 span-0"></div><div class="col sqs-col-12 span-12"><div class="sqs-block spacer-block sqs-block-spacer sized vsize-1" data-block-type="21" id="block-yui_3_17_2_2_1454212162763_24564"><div class="sqs-block-content">&nbsp;</div></div></div></div></div></div></div>

    <div class="Footer-middle">
      <div class="Footer-business">

        
          <div class="Footer-business-info">
            
              
                
                
                <div class="Footer-business-info-item">San Diego, CA 92103</div>
                
              
            
            
              
              
            
          </div>
        

        
          
        

      </div>

      <div class="sqs-layout sqs-grid-12 columns-12 Footer-blocks Footer-blocks--middle sqs-alternate-block-style-container empty" data-layout-label="Footer Middle Blocks" data-type="block-field" data-updated-on="1508277192025" id="footerBlocksMiddle"><div class="row sqs-row"><div class="col sqs-col-12 span-12"></div></div></div>

      
  <nav class="Footer-nav" data-content-field="navigation">

    <div class="Footer-nav-group"><a href="https://danielnorman.net/about" class="Footer-nav-item">About</a><a href="../../../../talks.html" class="Footer-nav-item">Talks</a><a href="../../../../blog.html" class="Footer-nav-item">Blog</a><a href="../../../../contact-feed.html" class="Footer-nav-item">Contact</a><a href="https://danielnorman.net/coc" class="Footer-nav-item">Codes of Conduct</a></div>

  </nav>

    </div>

    <div class="sqs-layout sqs-grid-12 columns-12 Footer-blocks Footer-blocks--bottom sqs-alternate-block-style-container empty" data-layout-label="Footer Bottom Blocks" data-type="block-field" data-updated-on="1508277214507" id="footerBlocksBottom"><div class="row sqs-row"><div class="col sqs-col-12 span-12"></div></div></div>

  </div>

</footer>


    </div>

    <script src="https://static1.squarespace.com/static/ta/55f0a9b0e4b0f3eb70352f6d/349/scripts/site-bundle.js" type="text/javascript"></script>

    <script data-sqs-type="imageloader-bootstrapper">if(window.ImageLoader) window.ImageLoader.bootstrap({}, document);</script><script>Squarespace.afterBodyLoad(Y);</script><svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="display:none" data-usage="social-icons-svg"><symbol id="facebook-icon" viewBox="0 0 64 64"><path d="M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"/></symbol><symbol id="facebook-mask" viewBox="0 0 64 64"><path d="M0,0v64h64V0H0z M39.6,22l-2.8,0c-2.2,0-2.6,1.1-2.6,2.6V28h5.3l-0.7,5.3h-4.6V47h-5.5V33.3H24V28h4.6V24 c0-4.6,2.8-7,6.9-7c2,0,3.6,0.1,4.1,0.2V22z"/></symbol><symbol id="twitter-icon" viewBox="0 0 64 64"><path d="M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"/></symbol><symbol id="twitter-mask" viewBox="0 0 64 64"><path d="M0,0v64h64V0H0z M44.7,25.5c0,0.3,0,0.6,0,0.8C44.7,35,38.1,45,26.1,45c-3.7,0-7.2-1.1-10.1-2.9 c0.5,0.1,1,0.1,1.6,0.1c3.1,0,5.9-1,8.2-2.8c-2.9-0.1-5.3-2-6.1-4.6c0.4,0.1,0.8,0.1,1.2,0.1c0.6,0,1.2-0.1,1.7-0.2 c-3-0.6-5.3-3.3-5.3-6.4c0,0,0-0.1,0-0.1c0.9,0.5,1.9,0.8,3,0.8c-1.8-1.2-2.9-3.2-2.9-5.5c0-1.2,0.3-2.3,0.9-3.3 c3.2,4,8.1,6.6,13.5,6.9c-0.1-0.5-0.2-1-0.2-1.5c0-3.6,2.9-6.6,6.6-6.6c1.9,0,3.6,0.8,4.8,2.1c1.5-0.3,2.9-0.8,4.2-1.6 c-0.5,1.5-1.5,2.8-2.9,3.6c1.3-0.2,2.6-0.5,3.8-1C47.1,23.4,46,24.5,44.7,25.5z"/></symbol><symbol id="github-icon" viewBox="0 0 64 64"><path d="M32,16c-8.8,0-16,7.2-16,16c0,7.1,4.6,13.1,10.9,15.2 c0.8,0.1,1.1-0.3,1.1-0.8c0-0.4,0-1.4,0-2.7c-4.5,1-5.4-2.1-5.4-2.1c-0.7-1.8-1.8-2.3-1.8-2.3c-1.5-1,0.1-1,0.1-1 c1.6,0.1,2.5,1.6,2.5,1.6c1.4,2.4,3.7,1.7,4.7,1.3c0.1-1,0.6-1.7,1-2.1c-3.6-0.4-7.3-1.8-7.3-7.9c0-1.7,0.6-3.2,1.6-4.3 c-0.2-0.4-0.7-2,0.2-4.2c0,0,1.3-0.4,4.4,1.6c1.3-0.4,2.6-0.5,4-0.5c1.4,0,2.7,0.2,4,0.5c3.1-2.1,4.4-1.6,4.4-1.6 c0.9,2.2,0.3,3.8,0.2,4.2c1,1.1,1.6,2.5,1.6,4.3c0,6.1-3.7,7.5-7.3,7.9c0.6,0.5,1.1,1.5,1.1,3c0,2.1,0,3.9,0,4.4 c0,0.4,0.3,0.9,1.1,0.8C43.4,45.1,48,39.1,48,32C48,23.2,40.8,16,32,16z"/></symbol><symbol id="github-mask" viewBox="0 0 64 64"><path d="M0,0v64h64V0H0z M37.1,47.2c-0.8,0.2-1.1-0.3-1.1-0.8c0-0.5,0-2.3,0-4.4c0-1.5-0.5-2.5-1.1-3 c3.6-0.4,7.3-1.7,7.3-7.9c0-1.7-0.6-3.2-1.6-4.3c0.2-0.4,0.7-2-0.2-4.2c0,0-1.3-0.4-4.4,1.6c-1.3-0.4-2.6-0.5-4-0.5 c-1.4,0-2.7,0.2-4,0.5c-3.1-2.1-4.4-1.6-4.4-1.6c-0.9,2.2-0.3,3.8-0.2,4.2c-1,1.1-1.6,2.5-1.6,4.3c0,6.1,3.7,7.5,7.3,7.9 c-0.5,0.4-0.9,1.1-1,2.1c-0.9,0.4-3.2,1.1-4.7-1.3c0,0-0.8-1.5-2.5-1.6c0,0-1.6,0-0.1,1c0,0,1,0.5,1.8,2.3c0,0,0.9,3.1,5.4,2.1 c0,1.3,0,2.3,0,2.7c0,0.4-0.3,0.9-1.1,0.8C20.6,45.1,16,39.1,16,32c0-8.8,7.2-16,16-16c8.8,0,16,7.2,16,16 C48,39.1,43.4,45.1,37.1,47.2z"/></symbol><symbol id="medium-icon" viewBox="0 0 64 64"><path d="M46.908,23.95c-0.006-0.005-0.011-0.01-0.018-0.014l-0.01-0.005l-9.05-4.525c-0.061-0.031-0.125-0.051-0.19-0.068c-0.082-0.021-0.165-0.034-0.249-0.034c-0.347,0-0.692,0.174-0.878,0.477l-5.21,8.467l6.538,10.625l9.095-14.779C46.966,24.046,46.952,23.985,46.908,23.95z M28.433,35.958L37,40.241L28.433,26.32V35.958zM38.287,40.884l7.052,3.526C46.256,44.869,47,44.548,47,43.693V26.726L38.287,40.884z M26.946,23.964l-8.839-4.419c-0.16-0.08-0.312-0.118-0.449-0.118c-0.387,0-0.659,0.299-0.659,0.802v19.083c0,0.511,0.374,1.116,0.831,1.344l7.785,3.892c0.2,0.1,0.39,0.147,0.561,0.147c0.484,0,0.823-0.374,0.823-1.003V24.051C27,24.014,26.979,23.98,26.946,23.964z"/></symbol><symbol id="medium-mask" viewBox="0 0 64 64"><path d="M0,0v64h64V0H0z M27,43.693c0,0.628-0.339,1.003-0.823,1.003c-0.172,0-0.362-0.047-0.561-0.147l-7.785-3.892C17.374,40.428,17,39.823,17,39.312V20.229c0-0.503,0.271-0.802,0.659-0.802c0.137,0,0.289,0.038,0.449,0.118l8.839,4.419C26.979,23.98,27,24.014,27,24.051V43.693z M28.433,35.958V26.32L37,40.241L28.433,35.958z M31.303,28.248l5.21-8.467c0.187-0.303,0.532-0.477,0.878-0.477c0.084,0,0.167,0.013,0.249,0.034c0.065,0.017,0.129,0.038,0.19,0.068l9.05,4.525l0.01,0.005c0.007,0.003,0.012,0.009,0.018,0.014c0.043,0.034,0.058,0.095,0.028,0.145l-9.095,14.779L31.303,28.248z M47,43.693c0,0.855-0.744,1.176-1.661,0.717l-7.052-3.526L47,26.726V43.693z"/></symbol></svg>

  </body>
</html>
